instance_field added ...!



1181|INTHDP017 - URO 20K|259

Rejection File Headers|DATE|MICRO|SITE_ID|OUTLET|HIT|AMOUNT|ERRORCODE|ERRORMESSAGE
File Headers|DATE|MICRO|SITE_ID|OUTLET|HIT|AMOUNT
Field Validation Conf|DATE;M;RD;[0-9]*;yyyyMMdd%MICRO;M;R;%SITE_ID;M;R;%OUTLET;M;R;%HIT;M;R;[0-9]+%AMOUNT;M;R;^-?([0-9]\d*(\.\d{1,2}+)?)$
Field Lookup Conf|{"process_enabled":true,"fields":{"actor_field":{"10":"OUTLET","12":"SITE_ID"},"metric_field":"","source_field":"MICRO","instance_field":""},"error_codes":{"actor_field":"60101","metric_field":"60201","source_field":"60301","instance_field":"60401"},"pre_aggregation_conf":{"1":"monthly","2":"daily"},"table_name":"tr_temp_uro_20k_aggr","lookup_query":"","notexist-lookup-flag":true,"daily_table":"tr_daily_uro_20k_aggr","monthly_table":"tr_monthly_uro_20k_aggr","no_of_join_query_params":1,"no_of_daily_join_queries":2,"no_of_monthly_join_queries":2,"data_filter":[],"duplicate_validation_conf":{"schema_name":"kpi","table_name":"tr_validate_uro_20k_aggr","include-fileId":true,"field_indexes":[0,1,2,3]}}


New column: QURO_STATUS

--update interface.ms_interface_attr set value_v = '' where attribute_id_n = 


update interface.ms_interface_attr set value_v = 'DATE;M;RD;[0-9]*;yyyyMMdd%MICRO;M;R;%SITE_ID;M;R;%OUTLET;M;R;%HIT;M;R;[0-9]+%AMOUNT;M;R;^-?([0-9]\d*(\.\d{1,2}+)?)$%QURO_STATUS;M;R;[0-1]+' where attribute_id_n = 1181032;
update interface.ms_interface_attr set value_v = 'DATE|MICRO|SITE_ID|OUTLET|HIT|AMOUNT|QURO_STATUS|ERRORCODE|ERRORMESSAGE' where attribute_id_n = 1181027;
update interface.ms_interface_attr set value_v = 'DATE|MICRO|SITE_ID|OUTLET|HIT|AMOUNT|QURO_STATUS' where attribute_id_n = 1181031;
update interface.ms_interface_attr set value_v = '{"process_enabled":true,"fields":{"actor_field":{"10":"OUTLET","12":"SITE_ID"},"metric_field":"","source_field":"MICRO","instance_field":"QURO_STATUS"},"error_codes":{"actor_field":"60101","metric_field":"60201","source_field":"60301","instance_field":"60401"},"pre_aggregation_conf":{"1":"monthly","2":"daily"},"table_name":"tr_temp_uro_20k_aggr","lookup_query":"","notexist-lookup-flag":true,"daily_table":"tr_daily_uro_20k_aggr","monthly_table":"tr_monthly_uro_20k_aggr","no_of_join_query_params":1,"no_of_daily_join_queries":2,"no_of_monthly_join_queries":2,"data_filter":[],"duplicate_validation_conf":{"schema_name":"kpi","table_name":"tr_validate_uro_20k_aggr","include-fileId":true,"field_indexes":[0,1,2,3,4]}}' where attribute_id_n = 1181037;
============================================================================================================================================================================================================================================================================================================
============================================================================================================================================================================================================================================================================================================
1168|INTHDP004 - Daily SIM Selling Outlet (SSO)|246

Rejection File Headers|DATE|MICRO|SITE_ID|ID_OUTLET|QTY|AMOUNT|ERRORCODE|ERRORMESSAGE
File Headers|DATE|MICRO|SITE_ID|ID_OUTLET|QTY|AMOUNT
Field Validation Conf|DATE;M;D;yyyyMMdd%MICRO;M;R;%SITE_ID;M;R;%ID_OUTLET;M;R;%QTY;M;R;[0-9]*+%AMOUNT;M;R;^-?([0-9]\d*(\.\d{1,2}+)?)$
Field Lookup Conf|{"process_enabled":true,"fields":{"actor_field":{"10":"ID_OUTLET","12":"SITE_ID"},"metric_field":"","source_field":"MICRO","instance_field":""},"error_codes":{"actor_field":"60101","metric_field":"60201","source_field":"60301","instance_field":"60401"},"pre_aggregation_conf":{"1":"monthly","2":"daily"},"lookup_query":"","notexist-lookup-flag":true,"table_name":"tr_temp_daily_sso_aggr","daily_table":"tr_daily_daily_sso_aggr","monthly_table":"tr_monthly_daily_sso_aggr","no_of_join_query_params":1,"no_of_daily_join_queries":2,"no_of_monthly_join_queries":2,"duplicate_validation_conf":{"schema_name":"kpi","table_name":"tr_validate_daily_sso_aggr","field_indexes":[0,1,2,3],"include-fileId":true},"data_filter":[]}

New column: QSSO_STATUS


update interface.ms_interface_attr set value_v = 'DATE;M;D;yyyyMMdd%MICRO;M;R;%SITE_ID;M;R;%ID_OUTLET;M;R;%QTY;M;R;[0-9]*+%AMOUNT;M;R;^-?([0-9]\d*(\.\d{1,2}+)?)$%QSSO_STATUS;M;R;[0-1]+' where attribute_id_n = 1168032;
update interface.ms_interface_attr set value_v = 'DATE|MICRO|SITE_ID|ID_OUTLET|QTY|AMOUNT|QSSO_STATUS|ERRORCODE|ERRORMESSAGE' where attribute_id_n = 1168027;
update interface.ms_interface_attr set value_v = 'DATE|MICRO|SITE_ID|ID_OUTLET|QTY|AMOUNT|QSSO_STATUS' where attribute_id_n = 1168031;
update interface.ms_interface_attr set value_v = '{"process_enabled":true,"fields":{"actor_field":{"10":"ID_OUTLET","12":"SITE_ID"},"metric_field":"","source_field":"MICRO","instance_field":"QSSO_STATUS"},"error_codes":{"actor_field":"60101","metric_field":"60201","source_field":"60301","instance_field":"60401"},"pre_aggregation_conf":{"1":"monthly","2":"daily"},"lookup_query":"","notexist-lookup-flag":true,"table_name":"tr_temp_daily_sso_aggr","daily_table":"tr_daily_daily_sso_aggr","monthly_table":"tr_monthly_daily_sso_aggr","no_of_join_query_params":1,"no_of_daily_join_queries":2,"no_of_monthly_join_queries":2,"duplicate_validation_conf":{"schema_name":"kpi","table_name":"tr_validate_daily_sso_aggr","field_indexes":[0,1,2,3,6],"include-fileId":true},"data_filter":[]}' where attribute_id_n = 1168037;


delete from kpi.mp_event_format_mapping where event_type_n in (303,316);
insert into kpi.mp_event_format_mapping (event_type_n, format_type_v, format_v, definition_v, date_key_v, date_format_v, source_key_v, source_type_n, instance_key_v, instance_type_n) values(303, 'Csv', 'DATE|MICRO|SITE_ID|ID_OUTLET|QTY|AMOUNT|QSSO_STATUS', 'Aggregation', 'DATE', 'yyyyMMdd', 'MICRO', 13, 'QSSO_STATUS', 21);
insert into kpi.mp_event_format_mapping (event_type_n, format_type_v, format_v, definition_v, date_key_v, date_format_v, source_key_v, source_type_n, instance_key_v, instance_type_n) values(316, 'Csv', 'DATE|MICRO|SITE_ID|OUTLET|HIT|AMOUNT|QURO_STATUS', 'Aggregation', 'DATE', 'yyyyMMdd', 'MICRO', 13, 'QURO_STATUS', 21);


